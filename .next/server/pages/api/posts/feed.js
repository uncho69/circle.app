"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/posts/feed";
exports.ids = ["pages/api/posts/feed"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fposts%2Ffeed&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fposts%2Ffeed.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fposts%2Ffeed&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fposts%2Ffeed.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_posts_feed_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/posts/feed.ts */ \"(api)/./pages/api/posts/feed.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_posts_feed_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_posts_feed_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/posts/feed\",\n        pathname: \"/api/posts/feed\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_posts_feed_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnBvc3RzJTJGZmVlZCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGcG9zdHMlMkZmZWVkLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3NEO0FBQ3REO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxxREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMscURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyY2xlLWFwcC8/ZTVlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL3Bvc3RzL2ZlZWQudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wb3N0cy9mZWVkXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcG9zdHMvZmVlZFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fposts%2Ffeed&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fposts%2Ffeed.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/posts/feed.ts":
/*!*********************************!*\
  !*** ./pages/api/posts/feed.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _utils_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/supabase */ \"(api)/./utils/supabase.ts\");\n\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            success: false,\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        const { page = \"1\", limit = \"20\", wallet_address } = req.query;\n        const pageNum = parseInt(page);\n        const limitNum = parseInt(limit);\n        const offset = (pageNum - 1) * limitNum;\n        // Build query for posts with author info and stats\n        let query = _utils_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"posts\").select(`\n        *,\n        author:users!author_id(\n          id,\n          pseudonym,\n          display_name,\n          avatar_url\n        ),\n        likes_count:likes(count),\n        reposts_count:reposts(count),\n        replies_count:replies(count)\n      `).order(\"created_at\", {\n            ascending: false\n        }).range(offset, offset + limitNum - 1);\n        // If wallet_address provided, filter to show posts from followed users + public posts\n        if (wallet_address) {\n            const { data: user } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"users\").select(\"id\").eq(\"wallet_address\", wallet_address.toString().toLowerCase()).single();\n            if (user) {\n                // Get followed user IDs\n                const { data: following } = await _utils_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"follows\").select(\"following_id\").eq(\"follower_id\", user.id);\n                const followingIds = following?.map((f)=>f.following_id) || [];\n                // Filter posts: from followed users OR public posts from anyone\n                query = query.or(`author_id.in.(${followingIds.join(\",\")}),is_private.eq.false`);\n            } else {\n                // If user not found, show only public posts\n                query = query.eq(\"is_private\", false);\n            }\n        } else {\n            // No wallet provided, show only public posts\n            query = query.eq(\"is_private\", false);\n        }\n        const { data: posts, error } = await query;\n        if (error) {\n            console.error(\"Supabase error:\", error);\n            return res.status(500).json({\n                success: false,\n                error: \"Failed to fetch posts\"\n            });\n        }\n        // Transform data to match expected format\n        const transformedPosts = posts?.map((post)=>({\n                id: post.id,\n                author: post.author.display_name || post.author.pseudonym,\n                content: post.content,\n                timestamp: post.created_at,\n                image: post.image_url,\n                likes: post.likes_count?.[0]?.count || 0,\n                reposts: post.reposts_count?.[0]?.count || 0,\n                replies: post.replies_count?.[0]?.count || 0,\n                views: 0,\n                is_private: post.is_private,\n                author_display_name: post.author.display_name,\n                author_avatar: post.author.avatar_url,\n                author_pseudonym: post.author.pseudonym\n            })) || [];\n        console.log(`âœ… Feed loaded: ${transformedPosts.length} posts`);\n        return res.status(200).json({\n            success: true,\n            posts: transformedPosts,\n            pagination: {\n                page: pageNum,\n                limit: limitNum,\n                hasMore: transformedPosts.length === limitNum\n            }\n        });\n    } catch (error) {\n        console.error(\"API error:\", error);\n        return res.status(500).json({\n            success: false,\n            error: \"Internal server error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxZQUFZO2dCQUM3Q2lCLGVBQWVuQixLQUFLQyxNQUFNLENBQUNtQixVQUFVO2dCQUNyQ0Msa0JBQWtCckIsS0FBS0MsTUFBTSxDQUFDRSxTQUFTO1lBQ3pDLE9BQU8sRUFBRTtRQUVUTCxRQUFRd0IsR0FBRyxDQUFDLENBQUMsZUFBZSxFQUFFdkIsaUJBQWlCd0IsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUM3RCxPQUFPM0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUMxQkMsU0FBUztZQUNUNkIsT0FBT0U7WUFDUHlCLFlBQVk7Z0JBQ1Z0RCxNQUFNSTtnQkFDTkgsT0FBT0s7Z0JBQ1BpRCxTQUFTMUIsaUJBQWlCd0IsTUFBTSxLQUFLL0M7WUFDdkM7UUFDRjtJQUVGLEVBQUUsT0FBT1AsT0FBTztRQUNkNkIsUUFBUTdCLEtBQUssQ0FBQyxjQUFjQTtRQUM1QixPQUFPTCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7WUFBT0MsT0FBTztRQUF3QjtJQUMvRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyY2xlLWFwcC8uL3BhZ2VzL2FwaS9wb3N0cy9mZWVkLnRzP2I4YzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3N1cGFiYXNlJ1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnR0VUJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSlcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBwYWdlID0gJzEnLCBsaW1pdCA9ICcyMCcsIHdhbGxldF9hZGRyZXNzIH0gPSByZXEucXVlcnlcbiAgICBjb25zdCBwYWdlTnVtID0gcGFyc2VJbnQocGFnZSBhcyBzdHJpbmcpXG4gICAgY29uc3QgbGltaXROdW0gPSBwYXJzZUludChsaW1pdCBhcyBzdHJpbmcpXG4gICAgY29uc3Qgb2Zmc2V0ID0gKHBhZ2VOdW0gLSAxKSAqIGxpbWl0TnVtXG5cbiAgICAvLyBCdWlsZCBxdWVyeSBmb3IgcG9zdHMgd2l0aCBhdXRob3IgaW5mbyBhbmQgc3RhdHNcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Bvc3RzJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICAqLFxuICAgICAgICBhdXRob3I6dXNlcnMhYXV0aG9yX2lkKFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIHBzZXVkb255bSxcbiAgICAgICAgICBkaXNwbGF5X25hbWUsXG4gICAgICAgICAgYXZhdGFyX3VybFxuICAgICAgICApLFxuICAgICAgICBsaWtlc19jb3VudDpsaWtlcyhjb3VudCksXG4gICAgICAgIHJlcG9zdHNfY291bnQ6cmVwb3N0cyhjb3VudCksXG4gICAgICAgIHJlcGxpZXNfY291bnQ6cmVwbGllcyhjb3VudClcbiAgICAgIGApXG4gICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAgIC5yYW5nZShvZmZzZXQsIG9mZnNldCArIGxpbWl0TnVtIC0gMSlcblxuICAgIC8vIElmIHdhbGxldF9hZGRyZXNzIHByb3ZpZGVkLCBmaWx0ZXIgdG8gc2hvdyBwb3N0cyBmcm9tIGZvbGxvd2VkIHVzZXJzICsgcHVibGljIHBvc3RzXG4gICAgaWYgKHdhbGxldF9hZGRyZXNzKSB7XG4gICAgICBjb25zdCB7IGRhdGE6IHVzZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgLmVxKCd3YWxsZXRfYWRkcmVzcycsIHdhbGxldF9hZGRyZXNzLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgLnNpbmdsZSgpXG5cbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIC8vIEdldCBmb2xsb3dlZCB1c2VyIElEc1xuICAgICAgICBjb25zdCB7IGRhdGE6IGZvbGxvd2luZyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgnZm9sbG93cycpXG4gICAgICAgICAgLnNlbGVjdCgnZm9sbG93aW5nX2lkJylcbiAgICAgICAgICAuZXEoJ2ZvbGxvd2VyX2lkJywgdXNlci5pZClcblxuICAgICAgICBjb25zdCBmb2xsb3dpbmdJZHMgPSBmb2xsb3dpbmc/Lm1hcChmID0+IGYuZm9sbG93aW5nX2lkKSB8fCBbXVxuICAgICAgICBcbiAgICAgICAgLy8gRmlsdGVyIHBvc3RzOiBmcm9tIGZvbGxvd2VkIHVzZXJzIE9SIHB1YmxpYyBwb3N0cyBmcm9tIGFueW9uZVxuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lm9yKGBhdXRob3JfaWQuaW4uKCR7Zm9sbG93aW5nSWRzLmpvaW4oJywnKX0pLGlzX3ByaXZhdGUuZXEuZmFsc2VgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgdXNlciBub3QgZm91bmQsIHNob3cgb25seSBwdWJsaWMgcG9zdHNcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnaXNfcHJpdmF0ZScsIGZhbHNlKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyB3YWxsZXQgcHJvdmlkZWQsIHNob3cgb25seSBwdWJsaWMgcG9zdHNcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ2lzX3ByaXZhdGUnLCBmYWxzZSlcbiAgICB9XG5cbiAgICBjb25zdCB7IGRhdGE6IHBvc3RzLCBlcnJvciB9ID0gYXdhaXQgcXVlcnlcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggcG9zdHMnIH0pXG4gICAgfVxuXG4gICAgLy8gVHJhbnNmb3JtIGRhdGEgdG8gbWF0Y2ggZXhwZWN0ZWQgZm9ybWF0XG4gICAgY29uc3QgdHJhbnNmb3JtZWRQb3N0cyA9IHBvc3RzPy5tYXAocG9zdCA9PiAoe1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBhdXRob3I6IHBvc3QuYXV0aG9yLmRpc3BsYXlfbmFtZSB8fCBwb3N0LmF1dGhvci5wc2V1ZG9ueW0sXG4gICAgICBjb250ZW50OiBwb3N0LmNvbnRlbnQsXG4gICAgICB0aW1lc3RhbXA6IHBvc3QuY3JlYXRlZF9hdCxcbiAgICAgIGltYWdlOiBwb3N0LmltYWdlX3VybCxcbiAgICAgIGxpa2VzOiBwb3N0Lmxpa2VzX2NvdW50Py5bMF0/LmNvdW50IHx8IDAsXG4gICAgICByZXBvc3RzOiBwb3N0LnJlcG9zdHNfY291bnQ/LlswXT8uY291bnQgfHwgMCxcbiAgICAgIHJlcGxpZXM6IHBvc3QucmVwbGllc19jb3VudD8uWzBdPy5jb3VudCB8fCAwLFxuICAgICAgdmlld3M6IDAsIC8vIFRPRE86IEltcGxlbWVudCB2aWV3IHRyYWNraW5nXG4gICAgICBpc19wcml2YXRlOiBwb3N0LmlzX3ByaXZhdGUsXG4gICAgICBhdXRob3JfZGlzcGxheV9uYW1lOiBwb3N0LmF1dGhvci5kaXNwbGF5X25hbWUsXG4gICAgICBhdXRob3JfYXZhdGFyOiBwb3N0LmF1dGhvci5hdmF0YXJfdXJsLFxuICAgICAgYXV0aG9yX3BzZXVkb255bTogcG9zdC5hdXRob3IucHNldWRvbnltXG4gICAgfSkpIHx8IFtdXG5cbiAgICBjb25zb2xlLmxvZyhg4pyFIEZlZWQgbG9hZGVkOiAke3RyYW5zZm9ybWVkUG9zdHMubGVuZ3RofSBwb3N0c2ApXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgXG4gICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgIHBvc3RzOiB0cmFuc2Zvcm1lZFBvc3RzLFxuICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICBwYWdlOiBwYWdlTnVtLFxuICAgICAgICBsaW1pdDogbGltaXROdW0sXG4gICAgICAgIGhhc01vcmU6IHRyYW5zZm9ybWVkUG9zdHMubGVuZ3RoID09PSBsaW1pdE51bVxuICAgICAgfVxuICAgIH0pXG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KVxuICB9XG59ICJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsImVycm9yIiwicGFnZSIsImxpbWl0Iiwid2FsbGV0X2FkZHJlc3MiLCJxdWVyeSIsInBhZ2VOdW0iLCJwYXJzZUludCIsImxpbWl0TnVtIiwib2Zmc2V0IiwiZnJvbSIsInNlbGVjdCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwicmFuZ2UiLCJkYXRhIiwidXNlciIsImVxIiwidG9TdHJpbmciLCJ0b0xvd2VyQ2FzZSIsInNpbmdsZSIsImZvbGxvd2luZyIsImlkIiwiZm9sbG93aW5nSWRzIiwibWFwIiwiZiIsImZvbGxvd2luZ19pZCIsIm9yIiwiam9pbiIsInBvc3RzIiwiY29uc29sZSIsInRyYW5zZm9ybWVkUG9zdHMiLCJwb3N0IiwiYXV0aG9yIiwiZGlzcGxheV9uYW1lIiwicHNldWRvbnltIiwiY29udGVudCIsInRpbWVzdGFtcCIsImNyZWF0ZWRfYXQiLCJpbWFnZSIsImltYWdlX3VybCIsImxpa2VzIiwibGlrZXNfY291bnQiLCJjb3VudCIsInJlcG9zdHMiLCJyZXBvc3RzX2NvdW50IiwicmVwbGllcyIsInJlcGxpZXNfY291bnQiLCJ2aWV3cyIsImlzX3ByaXZhdGUiLCJhdXRob3JfZGlzcGxheV9uYW1lIiwiYXV0aG9yX2F2YXRhciIsImF2YXRhcl91cmwiLCJhdXRob3JfcHNldWRvbnltIiwibG9nIiwibGVuZ3RoIiwicGFnaW5hdGlvbiIsImhhc01vcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/posts/feed.ts\n");

/***/ }),

/***/ "(api)/./utils/supabase.ts":
/*!***************************!*\
  !*** ./utils/supabase.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabaseUrl = \"https://wzxfnitupiverfervbse.supabase.co\" || 0;\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind6eGZuaXR1cGl2ZXJmZXJ2YnNlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1Njc0OTAsImV4cCI6MjA3MDE0MzQ5MH0.LExq_PDSeSt0flAHPtt_mmgetRUtz0SDytarxiJTHmg\" || 0;\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9zdXBhYmFzZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBb0Q7QUFFcEQsTUFBTUMsY0FBY0MsMENBQW9DLElBQUk7QUFDNUQsTUFBTUcsa0JBQWtCSCxrTkFBeUMsSUFBSTtBQUU5RCxNQUFNSyxXQUFXUCxtRUFBWUEsQ0FBQ0MsYUFBYUksaUJBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyY2xlLWFwcC8uL3V0aWxzL3N1cGFiYXNlLnRzPzdkZTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xuXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCB8fCAnaHR0cHM6Ly95b3VyLXByb2plY3Quc3VwYWJhc2UuY28nXG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSB8fCAneW91ci1hbm9uLWtleSdcblxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpXG5cbi8vIERhdGFiYXNlIHR5cGVzXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xuICBpZDogc3RyaW5nXG4gIHdhbGxldF9hZGRyZXNzOiBzdHJpbmdcbiAgcHNldWRvbnltOiBzdHJpbmdcbiAgZGlzcGxheV9uYW1lPzogc3RyaW5nXG4gIGJpbz86IHN0cmluZ1xuICBhdmF0YXJfdXJsPzogc3RyaW5nXG4gIGJhbm5lcl9jb2xvcj86IHN0cmluZ1xuICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgdXBkYXRlZF9hdDogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9zdCB7XG4gIGlkOiBzdHJpbmdcbiAgYXV0aG9yX2lkOiBzdHJpbmdcbiAgY29udGVudDogc3RyaW5nXG4gIGltYWdlX3VybD86IHN0cmluZ1xuICBpc19wcml2YXRlOiBib29sZWFuXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICB1cGRhdGVkX2F0OiBzdHJpbmdcbiAgYXV0aG9yPzogVXNlclxuICBsaWtlc19jb3VudD86IG51bWJlclxuICByZXBvc3RzX2NvdW50PzogbnVtYmVyXG4gIHJlcGxpZXNfY291bnQ/OiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGb2xsb3cge1xuICBpZDogc3RyaW5nXG4gIGZvbGxvd2VyX2lkOiBzdHJpbmdcbiAgZm9sbG93aW5nX2lkOiBzdHJpbmdcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGlrZSB7XG4gIGlkOiBzdHJpbmdcbiAgdXNlcl9pZDogc3RyaW5nXG4gIHBvc3RfaWQ6IHN0cmluZ1xuICBjcmVhdGVkX2F0OiBzdHJpbmdcbn0gIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwic3VwYWJhc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./utils/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fposts%2Ffeed&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fposts%2Ffeed.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();