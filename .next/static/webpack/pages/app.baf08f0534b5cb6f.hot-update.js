"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/app",{

/***/ "./hooks/useUniversalWallet.ts":
/*!*************************************!*\
  !*** ./hooks/useUniversalWallet.ts ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useUniversalWallet: function() { return /* binding */ useUniversalWallet; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n// MetaMask implementation\nconst metaMaskWallet = {\n    name: \"MetaMask\",\n    isAvailable: ()=>{\n        var _window_ethereum;\n        return  true && !!((_window_ethereum = window.ethereum) === null || _window_ethereum === void 0 ? void 0 : _window_ethereum.isMetaMask);\n    },\n    connect: async ()=>{\n        if (!window.ethereum) throw new Error(\"No Ethereum wallet available\");\n        const accounts = await window.ethereum.request({\n            method: \"eth_requestAccounts\"\n        });\n        return accounts[0];\n    },\n    getBalance: async (address)=>{\n        if (!window.ethereum) throw new Error(\"No Ethereum wallet available\");\n        const balance = await window.ethereum.request({\n            method: \"eth_getBalance\",\n            params: [\n                address,\n                \"latest\"\n            ]\n        });\n        return parseInt(balance, 16) / Math.pow(10, 18);\n    },\n    getAccount: async ()=>{\n        if (!window.ethereum) return null;\n        const accounts = await window.ethereum.request({\n            method: \"eth_accounts\"\n        });\n        return accounts[0] || null;\n    },\n    onAccountsChanged: (callback)=>{\n        if (window.ethereum && window.ethereum.on) {\n            window.ethereum.on(\"accountsChanged\", callback);\n        }\n    },\n    onChainChanged: (callback)=>{\n        if (window.ethereum && window.ethereum.on) {\n            window.ethereum.on(\"chainChanged\", callback);\n        }\n    },\n    removeListeners: ()=>{\n        try {\n            if (window.ethereum && typeof window.ethereum.removeListener === \"function\") {\n                window.ethereum.removeListener(\"accountsChanged\", ()=>{})(window.ethereum).removeListener(\"chainChanged\", ()=>{});\n            }\n        } catch (error) {\n            console.warn(\"Failed to remove listeners:\", error);\n        }\n    }\n};\n// Rabby implementation\nconst rabbyWallet = {\n    name: \"Rabby\",\n    isAvailable: ()=> true && !!window.ethereum && window.ethereum.isRabby,\n    connect: async ()=>{\n        if (!window.ethereum) throw new Error(\"Rabby not available\");\n        const accounts = await window.ethereum.request({\n            method: \"eth_requestAccounts\"\n        });\n        return accounts[0];\n    },\n    getBalance: async (address)=>{\n        if (!window.ethereum) throw new Error(\"Rabby not available\");\n        const balance = await window.ethereum.request({\n            method: \"eth_getBalance\",\n            params: [\n                address,\n                \"latest\"\n            ]\n        });\n        return parseInt(balance, 16) / Math.pow(10, 18);\n    },\n    getAccount: async ()=>{\n        if (!window.ethereum) return null;\n        const accounts = await window.ethereum.request({\n            method: \"eth_accounts\"\n        });\n        return accounts[0] || null;\n    },\n    onAccountsChanged: (callback)=>{\n        if (window.ethereum && window.ethereum.on) {\n            window.ethereum.on(\"accountsChanged\", callback);\n        }\n    },\n    onChainChanged: (callback)=>{\n        if (window.ethereum && window.ethereum.on) {\n            window.ethereum.on(\"chainChanged\", callback);\n        }\n    },\n    removeListeners: ()=>{\n        try {\n            if (window.ethereum && typeof window.ethereum.removeListener === \"function\") {\n                window.ethereum.removeListener(\"accountsChanged\", ()=>{})(window.ethereum).removeListener(\"chainChanged\", ()=>{});\n            }\n        } catch (error) {\n            console.warn(\"Failed to remove listeners:\", error);\n        }\n    }\n};\n// Generic Ethereum wallet (for other wallets)\nconst genericWallet = {\n    name: \"Ethereum Wallet\",\n    isAvailable: ()=> true && !!window.ethereum,\n    connect: async ()=>{\n        if (!window.ethereum) throw new Error(\"No Ethereum wallet available\");\n        const accounts = await window.ethereum.request({\n            method: \"eth_requestAccounts\"\n        });\n        return accounts[0];\n    },\n    getBalance: async (address)=>{\n        if (!window.ethereum) throw new Error(\"No Ethereum wallet available\");\n        const balance = await window.ethereum.request({\n            method: \"eth_getBalance\",\n            params: [\n                address,\n                \"latest\"\n            ]\n        });\n        return parseInt(balance, 16) / Math.pow(10, 18);\n    },\n    getAccount: async ()=>{\n        if (!window.ethereum) return null;\n        const accounts = await window.ethereum.request({\n            method: \"eth_accounts\"\n        });\n        return accounts[0] || null;\n    },\n    onAccountsChanged: (callback)=>{\n        if (window.ethereum && window.ethereum.on) {\n            window.ethereum.on(\"accountsChanged\", callback);\n        }\n    },\n    onChainChanged: (callback)=>{\n        if (window.ethereum && window.ethereum.on) {\n            window.ethereum.on(\"chainChanged\", callback);\n        }\n    },\n    removeListeners: ()=>{\n        try {\n            if (window.ethereum && typeof window.ethereum.removeListener === \"function\") {\n                window.ethereum.removeListener(\"accountsChanged\", ()=>{})(window.ethereum).removeListener(\"chainChanged\", ()=>{});\n            }\n        } catch (error) {\n            console.warn(\"Failed to remove listeners:\", error);\n        }\n    }\n};\n// Detect available wallet\nconst detectWallet = ()=>{\n    if (metaMaskWallet.isAvailable()) {\n        return metaMaskWallet;\n    }\n    if (rabbyWallet.isAvailable()) {\n        return rabbyWallet;\n    }\n    if (genericWallet.isAvailable()) {\n        return genericWallet;\n    }\n    throw new Error(\"No Ethereum wallet detected\");\n};\nconst useUniversalWallet = ()=>{\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [account, setAccount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [balance, setBalance] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [walletName, setWalletName] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const connectWallet = async ()=>{\n        setLoading(true);\n        setError(null);\n        try {\n            const wallet = detectWallet();\n            setWalletName(wallet.name);\n            const account = await wallet.connect();\n            setAccount(account);\n            setIsConnected(true);\n            const balance = await wallet.getBalance(account);\n            setBalance(balance);\n            console.log(\"✅ Connected to \".concat(wallet.name, \": \").concat(account));\n            return account;\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : \"Failed to connect wallet\";\n            setError(errorMessage);\n            console.error(\"Wallet connection failed:\", err);\n            throw err;\n        } finally{\n            setLoading(false);\n        }\n    };\n    const getBalance = async (address)=>{\n        try {\n            const wallet = detectWallet();\n            const balance = await wallet.getBalance(address);\n            setBalance(balance);\n            return balance;\n        } catch (error) {\n            console.error(\"Failed to get balance:\", error);\n            return 0;\n        }\n    };\n    const disconnect = ()=>{\n        setIsConnected(false);\n        setAccount(null);\n        setBalance(0);\n        setWalletName(\"\");\n    };\n    // Check for existing connection and listen for changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const checkConnection = async ()=>{\n            try {\n                const wallet = detectWallet();\n                setWalletName(wallet.name);\n                const account = await wallet.getAccount();\n                if (account) {\n                    setAccount(account);\n                    setIsConnected(true);\n                    const balance = await wallet.getBalance(account);\n                    setBalance(balance);\n                    console.log(\"✅ Already connected to \".concat(wallet.name, \": \").concat(account));\n                }\n            } catch (error) {\n                console.log(\"No wallet detected or not connected\");\n            }\n        };\n        const handleAccountsChanged = (accounts)=>{\n            if (accounts.length === 0) {\n                disconnect();\n            } else {\n                setAccount(accounts[0]);\n                setIsConnected(true);\n                getBalance(accounts[0]);\n            }\n        };\n        const handleChainChanged = ()=>{\n            window.location.reload();\n        };\n        // Check existing connection\n        checkConnection();\n        // Set up listeners\n        try {\n            const wallet = detectWallet();\n            wallet.onAccountsChanged(handleAccountsChanged);\n            wallet.onChainChanged(handleChainChanged);\n            return ()=>{\n                wallet.removeListeners();\n            };\n        } catch (error) {\n        // No wallet available\n        }\n    }, []);\n    // Mock functions for circle creation (in production would use real smart contracts)\n    const estimateCircleCreation = async ()=>{\n        if (!account) throw new Error(\"Wallet not connected\");\n        // Updated pricing: $300 for circle creation (≈ 0.15 ETH at current prices)\n        const circleCreationCost = 0.15 // ETH\n        ;\n        const gasPrice = 20 // gwei\n        ;\n        const gasLimit = 210000;\n        return {\n            amount: circleCreationCost,\n            gasPrice: gasPrice,\n            gasLimit: gasLimit,\n            totalCost: circleCreationCost + gasLimit * gasPrice / Math.pow(10, 9),\n            usdEquivalent: 300 // $300 USD\n        };\n    };\n    const createCircle = async (circleData)=>{\n        if (!account) throw new Error(\"Wallet not connected\");\n        // Mock transaction - in production would send real transaction\n        const mockHash = \"0x\" + Math.random().toString(16).substring(2, 66);\n        console.log(\"✅ Mock circle creation transaction:\", mockHash);\n        return mockHash;\n    };\n    return {\n        isConnected,\n        account,\n        balance,\n        walletName,\n        loading,\n        error,\n        connectWallet,\n        getBalance,\n        disconnect,\n        estimateCircleCreation,\n        createCircle\n    };\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ob29rcy91c2VVbml2ZXJzYWxXYWxsZXQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBZ0IzQywwQkFBMEI7QUFDMUIsTUFBTUUsaUJBQWtDO0lBQ3RDQyxNQUFNO0lBQ05DLGFBQWE7WUFBeUNDO2VBQW5DLEtBQWtCLElBQWUsQ0FBQyxHQUFDQSxtQkFBQUEsT0FBT0MsUUFBUSxjQUFmRCx1Q0FBQUEsaUJBQWlCRSxVQUFVOztJQUNqRkMsU0FBUztRQUNQLElBQUksQ0FBQ0gsT0FBT0MsUUFBUSxFQUFFLE1BQU0sSUFBSUcsTUFBTTtRQUN0QyxNQUFNQyxXQUFXLE1BQU1MLE9BQU9DLFFBQVEsQ0FBQ0ssT0FBTyxDQUFDO1lBQUVDLFFBQVE7UUFBc0I7UUFDL0UsT0FBT0YsUUFBUSxDQUFDLEVBQUU7SUFDcEI7SUFDQUcsWUFBWSxPQUFPQztRQUNqQixJQUFJLENBQUNULE9BQU9DLFFBQVEsRUFBRSxNQUFNLElBQUlHLE1BQU07UUFDdEMsTUFBTU0sVUFBVSxNQUFNVixPQUFPQyxRQUFRLENBQUNLLE9BQU8sQ0FBQztZQUM1Q0MsUUFBUTtZQUNSSSxRQUFRO2dCQUFDRjtnQkFBUzthQUFTO1FBQzdCO1FBQ0EsT0FBT0csU0FBU0YsU0FBUyxNQUFNRyxLQUFLQyxHQUFHLENBQUMsSUFBSTtJQUM5QztJQUNBQyxZQUFZO1FBQ1YsSUFBSSxDQUFDZixPQUFPQyxRQUFRLEVBQUUsT0FBTztRQUM3QixNQUFNSSxXQUFXLE1BQU1MLE9BQU9DLFFBQVEsQ0FBQ0ssT0FBTyxDQUFDO1lBQUVDLFFBQVE7UUFBZTtRQUN4RSxPQUFPRixRQUFRLENBQUMsRUFBRSxJQUFJO0lBQ3hCO0lBQ0FXLG1CQUFtQixDQUFDQztRQUNsQixJQUFJakIsT0FBT0MsUUFBUSxJQUFJLE9BQVFBLFFBQVEsQ0FBU2lCLEVBQUUsRUFBRTtZQUNqRGxCLE9BQU9DLFFBQVEsQ0FBU2lCLEVBQUUsQ0FBQyxtQkFBbUJEO1FBQ2pEO0lBQ0Y7SUFDQUUsZ0JBQWdCLENBQUNGO1FBQ2YsSUFBSWpCLE9BQU9DLFFBQVEsSUFBSSxPQUFRQSxRQUFRLENBQVNpQixFQUFFLEVBQUU7WUFDakRsQixPQUFPQyxRQUFRLENBQVNpQixFQUFFLENBQUMsZ0JBQWdCRDtRQUM5QztJQUNGO0lBQ0FHLGlCQUFpQjtRQUNmLElBQUk7WUFDRixJQUFJcEIsT0FBT0MsUUFBUSxJQUFJLE9BQU8sT0FBUUEsUUFBUSxDQUFTb0IsY0FBYyxLQUFLLFlBQVk7Z0JBQ25GckIsT0FBT0MsUUFBUSxDQUFTb0IsY0FBYyxDQUFDLG1CQUFtQixLQUFPLEdBQ2pFckIsT0FBT0MsUUFBUSxFQUFTb0IsY0FBYyxDQUFDLGdCQUFnQixLQUFPO1lBQ2pFO1FBQ0YsRUFBRSxPQUFPQyxPQUFPO1lBQ2RDLFFBQVFDLElBQUksQ0FBQywrQkFBK0JGO1FBQzlDO0lBQ0Y7QUFDRjtBQUVBLHVCQUF1QjtBQUN2QixNQUFNRyxjQUErQjtJQUNuQzNCLE1BQU07SUFDTkMsYUFBYSxJQUFNLEtBQWtCLElBQWUsQ0FBQyxDQUFDQyxPQUFPQyxRQUFRLElBQUksT0FBUUEsUUFBUSxDQUFTeUIsT0FBTztJQUN6R3ZCLFNBQVM7UUFDUCxJQUFJLENBQUNILE9BQU9DLFFBQVEsRUFBRSxNQUFNLElBQUlHLE1BQU07UUFDdEMsTUFBTUMsV0FBVyxNQUFNTCxPQUFPQyxRQUFRLENBQUNLLE9BQU8sQ0FBQztZQUFFQyxRQUFRO1FBQXNCO1FBQy9FLE9BQU9GLFFBQVEsQ0FBQyxFQUFFO0lBQ3BCO0lBQ0FHLFlBQVksT0FBT0M7UUFDakIsSUFBSSxDQUFDVCxPQUFPQyxRQUFRLEVBQUUsTUFBTSxJQUFJRyxNQUFNO1FBQ3RDLE1BQU1NLFVBQVUsTUFBTVYsT0FBT0MsUUFBUSxDQUFDSyxPQUFPLENBQUM7WUFDNUNDLFFBQVE7WUFDUkksUUFBUTtnQkFBQ0Y7Z0JBQVM7YUFBUztRQUM3QjtRQUNBLE9BQU9HLFNBQVNGLFNBQVMsTUFBTUcsS0FBS0MsR0FBRyxDQUFDLElBQUk7SUFDOUM7SUFDQUMsWUFBWTtRQUNWLElBQUksQ0FBQ2YsT0FBT0MsUUFBUSxFQUFFLE9BQU87UUFDN0IsTUFBTUksV0FBVyxNQUFNTCxPQUFPQyxRQUFRLENBQUNLLE9BQU8sQ0FBQztZQUFFQyxRQUFRO1FBQWU7UUFDeEUsT0FBT0YsUUFBUSxDQUFDLEVBQUUsSUFBSTtJQUN4QjtJQUNBVyxtQkFBbUIsQ0FBQ0M7UUFDbEIsSUFBSWpCLE9BQU9DLFFBQVEsSUFBSSxPQUFRQSxRQUFRLENBQVNpQixFQUFFLEVBQUU7WUFDakRsQixPQUFPQyxRQUFRLENBQVNpQixFQUFFLENBQUMsbUJBQW1CRDtRQUNqRDtJQUNGO0lBQ0FFLGdCQUFnQixDQUFDRjtRQUNmLElBQUlqQixPQUFPQyxRQUFRLElBQUksT0FBUUEsUUFBUSxDQUFTaUIsRUFBRSxFQUFFO1lBQ2pEbEIsT0FBT0MsUUFBUSxDQUFTaUIsRUFBRSxDQUFDLGdCQUFnQkQ7UUFDOUM7SUFDRjtJQUNBRyxpQkFBaUI7UUFDZixJQUFJO1lBQ0YsSUFBSXBCLE9BQU9DLFFBQVEsSUFBSSxPQUFPLE9BQVFBLFFBQVEsQ0FBU29CLGNBQWMsS0FBSyxZQUFZO2dCQUNuRnJCLE9BQU9DLFFBQVEsQ0FBU29CLGNBQWMsQ0FBQyxtQkFBbUIsS0FBTyxHQUNqRXJCLE9BQU9DLFFBQVEsRUFBU29CLGNBQWMsQ0FBQyxnQkFBZ0IsS0FBTztZQUNqRTtRQUNGLEVBQUUsT0FBT0MsT0FBTztZQUNkQyxRQUFRQyxJQUFJLENBQUMsK0JBQStCRjtRQUM5QztJQUNGO0FBQ0Y7QUFFQSw4Q0FBOEM7QUFDOUMsTUFBTUssZ0JBQWlDO0lBQ3JDN0IsTUFBTTtJQUNOQyxhQUFhLElBQU0sS0FBa0IsSUFBZSxDQUFDLENBQUNDLE9BQU9DLFFBQVE7SUFDckVFLFNBQVM7UUFDUCxJQUFJLENBQUNILE9BQU9DLFFBQVEsRUFBRSxNQUFNLElBQUlHLE1BQU07UUFDdEMsTUFBTUMsV0FBVyxNQUFNTCxPQUFPQyxRQUFRLENBQUNLLE9BQU8sQ0FBQztZQUFFQyxRQUFRO1FBQXNCO1FBQy9FLE9BQU9GLFFBQVEsQ0FBQyxFQUFFO0lBQ3BCO0lBQ0FHLFlBQVksT0FBT0M7UUFDakIsSUFBSSxDQUFDVCxPQUFPQyxRQUFRLEVBQUUsTUFBTSxJQUFJRyxNQUFNO1FBQ3RDLE1BQU1NLFVBQVUsTUFBTVYsT0FBT0MsUUFBUSxDQUFDSyxPQUFPLENBQUM7WUFDNUNDLFFBQVE7WUFDUkksUUFBUTtnQkFBQ0Y7Z0JBQVM7YUFBUztRQUM3QjtRQUNBLE9BQU9HLFNBQVNGLFNBQVMsTUFBTUcsS0FBS0MsR0FBRyxDQUFDLElBQUk7SUFDOUM7SUFDQUMsWUFBWTtRQUNWLElBQUksQ0FBQ2YsT0FBT0MsUUFBUSxFQUFFLE9BQU87UUFDN0IsTUFBTUksV0FBVyxNQUFNTCxPQUFPQyxRQUFRLENBQUNLLE9BQU8sQ0FBQztZQUFFQyxRQUFRO1FBQWU7UUFDeEUsT0FBT0YsUUFBUSxDQUFDLEVBQUUsSUFBSTtJQUN4QjtJQUNBVyxtQkFBbUIsQ0FBQ0M7UUFDbEIsSUFBSWpCLE9BQU9DLFFBQVEsSUFBSSxPQUFRQSxRQUFRLENBQVNpQixFQUFFLEVBQUU7WUFDakRsQixPQUFPQyxRQUFRLENBQVNpQixFQUFFLENBQUMsbUJBQW1CRDtRQUNqRDtJQUNGO0lBQ0FFLGdCQUFnQixDQUFDRjtRQUNmLElBQUlqQixPQUFPQyxRQUFRLElBQUksT0FBUUEsUUFBUSxDQUFTaUIsRUFBRSxFQUFFO1lBQ2pEbEIsT0FBT0MsUUFBUSxDQUFTaUIsRUFBRSxDQUFDLGdCQUFnQkQ7UUFDOUM7SUFDRjtJQUNBRyxpQkFBaUI7UUFDZixJQUFJO1lBQ0YsSUFBSXBCLE9BQU9DLFFBQVEsSUFBSSxPQUFPLE9BQVFBLFFBQVEsQ0FBU29CLGNBQWMsS0FBSyxZQUFZO2dCQUNuRnJCLE9BQU9DLFFBQVEsQ0FBU29CLGNBQWMsQ0FBQyxtQkFBbUIsS0FBTyxHQUNqRXJCLE9BQU9DLFFBQVEsRUFBU29CLGNBQWMsQ0FBQyxnQkFBZ0IsS0FBTztZQUNqRTtRQUNGLEVBQUUsT0FBT0MsT0FBTztZQUNkQyxRQUFRQyxJQUFJLENBQUMsK0JBQStCRjtRQUM5QztJQUNGO0FBQ0Y7QUFFQSwwQkFBMEI7QUFDMUIsTUFBTU0sZUFBZTtJQUNuQixJQUFJL0IsZUFBZUUsV0FBVyxJQUFJO1FBQ2hDLE9BQU9GO0lBQ1Q7SUFDQSxJQUFJNEIsWUFBWTFCLFdBQVcsSUFBSTtRQUM3QixPQUFPMEI7SUFDVDtJQUNBLElBQUlFLGNBQWM1QixXQUFXLElBQUk7UUFDL0IsT0FBTzRCO0lBQ1Q7SUFDQSxNQUFNLElBQUl2QixNQUFNO0FBQ2xCO0FBRU8sTUFBTXlCLHFCQUFxQjtJQUNoQyxNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR3BDLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ3FDLFNBQVNDLFdBQVcsR0FBR3RDLCtDQUFRQSxDQUFnQjtJQUN0RCxNQUFNLENBQUNlLFNBQVN3QixXQUFXLEdBQUd2QywrQ0FBUUEsQ0FBUztJQUMvQyxNQUFNLENBQUN3QyxZQUFZQyxjQUFjLEdBQUd6QywrQ0FBUUEsQ0FBUztJQUNyRCxNQUFNLENBQUMwQyxTQUFTQyxXQUFXLEdBQUczQywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUMyQixPQUFPaUIsU0FBUyxHQUFHNUMsK0NBQVFBLENBQWdCO0lBRWxELE1BQU02QyxnQkFBZ0I7UUFDcEJGLFdBQVc7UUFDWEMsU0FBUztRQUVULElBQUk7WUFDRixNQUFNRSxTQUFTYjtZQUNmUSxjQUFjSyxPQUFPM0MsSUFBSTtZQUV6QixNQUFNa0MsVUFBVSxNQUFNUyxPQUFPdEMsT0FBTztZQUNwQzhCLFdBQVdEO1lBQ1hELGVBQWU7WUFFZixNQUFNckIsVUFBVSxNQUFNK0IsT0FBT2pDLFVBQVUsQ0FBQ3dCO1lBQ3hDRSxXQUFXeEI7WUFFWGEsUUFBUW1CLEdBQUcsQ0FBQyxrQkFBa0NWLE9BQWhCUyxPQUFPM0MsSUFBSSxFQUFDLE1BQVksT0FBUmtDO1lBQzlDLE9BQU9BO1FBQ1QsRUFBRSxPQUFPVyxLQUFLO1lBQ1osTUFBTUMsZUFBZUQsZUFBZXZDLFFBQVF1QyxJQUFJRSxPQUFPLEdBQUc7WUFDMUROLFNBQVNLO1lBQ1RyQixRQUFRRCxLQUFLLENBQUMsNkJBQTZCcUI7WUFDM0MsTUFBTUE7UUFDUixTQUFVO1lBQ1JMLFdBQVc7UUFDYjtJQUNGO0lBRUEsTUFBTTlCLGFBQWEsT0FBT0M7UUFDeEIsSUFBSTtZQUNGLE1BQU1nQyxTQUFTYjtZQUNmLE1BQU1sQixVQUFVLE1BQU0rQixPQUFPakMsVUFBVSxDQUFDQztZQUN4Q3lCLFdBQVd4QjtZQUNYLE9BQU9BO1FBQ1QsRUFBRSxPQUFPWSxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQywwQkFBMEJBO1lBQ3hDLE9BQU87UUFDVDtJQUNGO0lBRUEsTUFBTXdCLGFBQWE7UUFDakJmLGVBQWU7UUFDZkUsV0FBVztRQUNYQyxXQUFXO1FBQ1hFLGNBQWM7SUFDaEI7SUFFQSx1REFBdUQ7SUFDdkR4QyxnREFBU0EsQ0FBQztRQUNSLE1BQU1tRCxrQkFBa0I7WUFDdEIsSUFBSTtnQkFDRixNQUFNTixTQUFTYjtnQkFDZlEsY0FBY0ssT0FBTzNDLElBQUk7Z0JBRXpCLE1BQU1rQyxVQUFVLE1BQU1TLE9BQU8xQixVQUFVO2dCQUN2QyxJQUFJaUIsU0FBUztvQkFDWEMsV0FBV0Q7b0JBQ1hELGVBQWU7b0JBQ2YsTUFBTXJCLFVBQVUsTUFBTStCLE9BQU9qQyxVQUFVLENBQUN3QjtvQkFDeENFLFdBQVd4QjtvQkFDWGEsUUFBUW1CLEdBQUcsQ0FBQywwQkFBMENWLE9BQWhCUyxPQUFPM0MsSUFBSSxFQUFDLE1BQVksT0FBUmtDO2dCQUN4RDtZQUNGLEVBQUUsT0FBT1YsT0FBTztnQkFDZEMsUUFBUW1CLEdBQUcsQ0FBQztZQUNkO1FBQ0Y7UUFFQSxNQUFNTSx3QkFBd0IsQ0FBQzNDO1lBQzdCLElBQUlBLFNBQVM0QyxNQUFNLEtBQUssR0FBRztnQkFDekJIO1lBQ0YsT0FBTztnQkFDTGIsV0FBVzVCLFFBQVEsQ0FBQyxFQUFFO2dCQUN0QjBCLGVBQWU7Z0JBQ2Z2QixXQUFXSCxRQUFRLENBQUMsRUFBRTtZQUN4QjtRQUNGO1FBRUEsTUFBTTZDLHFCQUFxQjtZQUN6QmxELE9BQU9tRCxRQUFRLENBQUNDLE1BQU07UUFDeEI7UUFFQSw0QkFBNEI7UUFDNUJMO1FBRUEsbUJBQW1CO1FBQ25CLElBQUk7WUFDRixNQUFNTixTQUFTYjtZQUNmYSxPQUFPekIsaUJBQWlCLENBQUNnQztZQUN6QlAsT0FBT3RCLGNBQWMsQ0FBQytCO1lBRXRCLE9BQU87Z0JBQ0xULE9BQU9yQixlQUFlO1lBQ3hCO1FBQ0YsRUFBRSxPQUFPRSxPQUFPO1FBQ2Qsc0JBQXNCO1FBQ3hCO0lBQ0YsR0FBRyxFQUFFO0lBRUwsb0ZBQW9GO0lBQ3BGLE1BQU0rQix5QkFBeUI7UUFDN0IsSUFBSSxDQUFDckIsU0FBUyxNQUFNLElBQUk1QixNQUFNO1FBRTlCLDJFQUEyRTtRQUMzRSxNQUFNa0QscUJBQXFCLEtBQUssTUFBTTs7UUFDdEMsTUFBTUMsV0FBVyxHQUFHLE9BQU87O1FBQzNCLE1BQU1DLFdBQVc7UUFFakIsT0FBTztZQUNMQyxRQUFRSDtZQUNSQyxVQUFVQTtZQUNWQyxVQUFVQTtZQUNWRSxXQUFXSixxQkFBc0JFLFdBQVdELFdBQVcxQyxLQUFLQyxHQUFHLENBQUMsSUFBSTtZQUNwRTZDLGVBQWUsSUFBSSxXQUFXO1FBQ2hDO0lBQ0Y7SUFFQSxNQUFNQyxlQUFlLE9BQU9DO1FBTTFCLElBQUksQ0FBQzdCLFNBQVMsTUFBTSxJQUFJNUIsTUFBTTtRQUU5QiwrREFBK0Q7UUFDL0QsTUFBTTBELFdBQVcsT0FBT2pELEtBQUtrRCxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJQyxTQUFTLENBQUMsR0FBRztRQUVoRTFDLFFBQVFtQixHQUFHLENBQUMsdUNBQXVDb0I7UUFDbkQsT0FBT0E7SUFDVDtJQUVBLE9BQU87UUFDTGhDO1FBQ0FFO1FBQ0F0QjtRQUNBeUI7UUFDQUU7UUFDQWY7UUFDQWtCO1FBQ0FoQztRQUNBc0M7UUFDQU87UUFDQU87SUFDRjtBQUNGLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vaG9va3MvdXNlVW5pdmVyc2FsV2FsbGV0LnRzP2VkYTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuXG5cblxuLy8gVW5pdmVyc2FsIHdhbGxldCBpbnRlcmZhY2VcbmludGVyZmFjZSBVbml2ZXJzYWxXYWxsZXQge1xuICBuYW1lOiBzdHJpbmdcbiAgaXNBdmFpbGFibGU6ICgpID0+IGJvb2xlYW5cbiAgY29ubmVjdDogKCkgPT4gUHJvbWlzZTxzdHJpbmc+XG4gIGdldEJhbGFuY2U6IChhZGRyZXNzOiBzdHJpbmcpID0+IFByb21pc2U8bnVtYmVyPlxuICBnZXRBY2NvdW50OiAoKSA9PiBQcm9taXNlPHN0cmluZyB8IG51bGw+XG4gIG9uQWNjb3VudHNDaGFuZ2VkOiAoY2FsbGJhY2s6IChhY2NvdW50czogc3RyaW5nW10pID0+IHZvaWQpID0+IHZvaWRcbiAgb25DaGFpbkNoYW5nZWQ6IChjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4gdm9pZFxuICByZW1vdmVMaXN0ZW5lcnM6ICgpID0+IHZvaWRcbn1cblxuLy8gTWV0YU1hc2sgaW1wbGVtZW50YXRpb25cbmNvbnN0IG1ldGFNYXNrV2FsbGV0OiBVbml2ZXJzYWxXYWxsZXQgPSB7XG4gIG5hbWU6ICdNZXRhTWFzaycsXG4gIGlzQXZhaWxhYmxlOiAoKSA9PiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAhIXdpbmRvdy5ldGhlcmV1bT8uaXNNZXRhTWFzayxcbiAgY29ubmVjdDogYXN5bmMgKCkgPT4ge1xuICAgIGlmICghd2luZG93LmV0aGVyZXVtKSB0aHJvdyBuZXcgRXJyb3IoJ05vIEV0aGVyZXVtIHdhbGxldCBhdmFpbGFibGUnKVxuICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfcmVxdWVzdEFjY291bnRzJyB9KVxuICAgIHJldHVybiBhY2NvdW50c1swXVxuICB9LFxuICBnZXRCYWxhbmNlOiBhc3luYyAoYWRkcmVzczogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHRocm93IG5ldyBFcnJvcignTm8gRXRoZXJldW0gd2FsbGV0IGF2YWlsYWJsZScpXG4gICAgY29uc3QgYmFsYW5jZSA9IGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ2V0aF9nZXRCYWxhbmNlJyxcbiAgICAgIHBhcmFtczogW2FkZHJlc3MsICdsYXRlc3QnXVxuICAgIH0pXG4gICAgcmV0dXJuIHBhcnNlSW50KGJhbGFuY2UsIDE2KSAvIE1hdGgucG93KDEwLCAxOClcbiAgfSxcbiAgZ2V0QWNjb3VudDogYXN5bmMgKCkgPT4ge1xuICAgIGlmICghd2luZG93LmV0aGVyZXVtKSByZXR1cm4gbnVsbFxuICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfYWNjb3VudHMnIH0pXG4gICAgcmV0dXJuIGFjY291bnRzWzBdIHx8IG51bGxcbiAgfSxcbiAgb25BY2NvdW50c0NoYW5nZWQ6IChjYWxsYmFjaykgPT4ge1xuICAgIGlmICh3aW5kb3cuZXRoZXJldW0gJiYgKHdpbmRvdy5ldGhlcmV1bSBhcyBhbnkpLm9uKSB7XG4gICAgICAod2luZG93LmV0aGVyZXVtIGFzIGFueSkub24oJ2FjY291bnRzQ2hhbmdlZCcsIGNhbGxiYWNrKVxuICAgIH1cbiAgfSxcbiAgb25DaGFpbkNoYW5nZWQ6IChjYWxsYmFjaykgPT4ge1xuICAgIGlmICh3aW5kb3cuZXRoZXJldW0gJiYgKHdpbmRvdy5ldGhlcmV1bSBhcyBhbnkpLm9uKSB7XG4gICAgICAod2luZG93LmV0aGVyZXVtIGFzIGFueSkub24oJ2NoYWluQ2hhbmdlZCcsIGNhbGxiYWNrKVxuICAgIH1cbiAgfSxcbiAgcmVtb3ZlTGlzdGVuZXJzOiAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh3aW5kb3cuZXRoZXJldW0gJiYgdHlwZW9mICh3aW5kb3cuZXRoZXJldW0gYXMgYW55KS5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAod2luZG93LmV0aGVyZXVtIGFzIGFueSkucmVtb3ZlTGlzdGVuZXIoJ2FjY291bnRzQ2hhbmdlZCcsICgpID0+IHt9KVxuICAgICAgICAod2luZG93LmV0aGVyZXVtIGFzIGFueSkucmVtb3ZlTGlzdGVuZXIoJ2NoYWluQ2hhbmdlZCcsICgpID0+IHt9KVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byByZW1vdmUgbGlzdGVuZXJzOicsIGVycm9yKVxuICAgIH1cbiAgfVxufVxuXG4vLyBSYWJieSBpbXBsZW1lbnRhdGlvblxuY29uc3QgcmFiYnlXYWxsZXQ6IFVuaXZlcnNhbFdhbGxldCA9IHtcbiAgbmFtZTogJ1JhYmJ5JyxcbiAgaXNBdmFpbGFibGU6ICgpID0+IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICEhd2luZG93LmV0aGVyZXVtICYmICh3aW5kb3cuZXRoZXJldW0gYXMgYW55KS5pc1JhYmJ5LFxuICBjb25uZWN0OiBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHRocm93IG5ldyBFcnJvcignUmFiYnkgbm90IGF2YWlsYWJsZScpXG4gICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9yZXF1ZXN0QWNjb3VudHMnIH0pXG4gICAgcmV0dXJuIGFjY291bnRzWzBdXG4gIH0sXG4gIGdldEJhbGFuY2U6IGFzeW5jIChhZGRyZXNzOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIXdpbmRvdy5ldGhlcmV1bSkgdGhyb3cgbmV3IEVycm9yKCdSYWJieSBub3QgYXZhaWxhYmxlJylcbiAgICBjb25zdCBiYWxhbmNlID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiAnZXRoX2dldEJhbGFuY2UnLFxuICAgICAgcGFyYW1zOiBbYWRkcmVzcywgJ2xhdGVzdCddXG4gICAgfSlcbiAgICByZXR1cm4gcGFyc2VJbnQoYmFsYW5jZSwgMTYpIC8gTWF0aC5wb3coMTAsIDE4KVxuICB9LFxuICBnZXRBY2NvdW50OiBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHJldHVybiBudWxsXG4gICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9hY2NvdW50cycgfSlcbiAgICByZXR1cm4gYWNjb3VudHNbMF0gfHwgbnVsbFxuICB9LFxuICBvbkFjY291bnRzQ2hhbmdlZDogKGNhbGxiYWNrKSA9PiB7XG4gICAgaWYgKHdpbmRvdy5ldGhlcmV1bSAmJiAod2luZG93LmV0aGVyZXVtIGFzIGFueSkub24pIHtcbiAgICAgICh3aW5kb3cuZXRoZXJldW0gYXMgYW55KS5vbignYWNjb3VudHNDaGFuZ2VkJywgY2FsbGJhY2spXG4gICAgfVxuICB9LFxuICBvbkNoYWluQ2hhbmdlZDogKGNhbGxiYWNrKSA9PiB7XG4gICAgaWYgKHdpbmRvdy5ldGhlcmV1bSAmJiAod2luZG93LmV0aGVyZXVtIGFzIGFueSkub24pIHtcbiAgICAgICh3aW5kb3cuZXRoZXJldW0gYXMgYW55KS5vbignY2hhaW5DaGFuZ2VkJywgY2FsbGJhY2spXG4gICAgfVxuICB9LFxuICByZW1vdmVMaXN0ZW5lcnM6ICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHdpbmRvdy5ldGhlcmV1bSAmJiB0eXBlb2YgKHdpbmRvdy5ldGhlcmV1bSBhcyBhbnkpLnJlbW92ZUxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICh3aW5kb3cuZXRoZXJldW0gYXMgYW55KS5yZW1vdmVMaXN0ZW5lcignYWNjb3VudHNDaGFuZ2VkJywgKCkgPT4ge30pXG4gICAgICAgICh3aW5kb3cuZXRoZXJldW0gYXMgYW55KS5yZW1vdmVMaXN0ZW5lcignY2hhaW5DaGFuZ2VkJywgKCkgPT4ge30pXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHJlbW92ZSBsaXN0ZW5lcnM6JywgZXJyb3IpXG4gICAgfVxuICB9XG59XG5cbi8vIEdlbmVyaWMgRXRoZXJldW0gd2FsbGV0IChmb3Igb3RoZXIgd2FsbGV0cylcbmNvbnN0IGdlbmVyaWNXYWxsZXQ6IFVuaXZlcnNhbFdhbGxldCA9IHtcbiAgbmFtZTogJ0V0aGVyZXVtIFdhbGxldCcsXG4gIGlzQXZhaWxhYmxlOiAoKSA9PiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAhIXdpbmRvdy5ldGhlcmV1bSxcbiAgY29ubmVjdDogYXN5bmMgKCkgPT4ge1xuICAgIGlmICghd2luZG93LmV0aGVyZXVtKSB0aHJvdyBuZXcgRXJyb3IoJ05vIEV0aGVyZXVtIHdhbGxldCBhdmFpbGFibGUnKVxuICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfcmVxdWVzdEFjY291bnRzJyB9KVxuICAgIHJldHVybiBhY2NvdW50c1swXVxuICB9LFxuICBnZXRCYWxhbmNlOiBhc3luYyAoYWRkcmVzczogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHRocm93IG5ldyBFcnJvcignTm8gRXRoZXJldW0gd2FsbGV0IGF2YWlsYWJsZScpXG4gICAgY29uc3QgYmFsYW5jZSA9IGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ2V0aF9nZXRCYWxhbmNlJyxcbiAgICAgIHBhcmFtczogW2FkZHJlc3MsICdsYXRlc3QnXVxuICAgIH0pXG4gICAgcmV0dXJuIHBhcnNlSW50KGJhbGFuY2UsIDE2KSAvIE1hdGgucG93KDEwLCAxOClcbiAgfSxcbiAgZ2V0QWNjb3VudDogYXN5bmMgKCkgPT4ge1xuICAgIGlmICghd2luZG93LmV0aGVyZXVtKSByZXR1cm4gbnVsbFxuICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfYWNjb3VudHMnIH0pXG4gICAgcmV0dXJuIGFjY291bnRzWzBdIHx8IG51bGxcbiAgfSxcbiAgb25BY2NvdW50c0NoYW5nZWQ6IChjYWxsYmFjaykgPT4ge1xuICAgIGlmICh3aW5kb3cuZXRoZXJldW0gJiYgKHdpbmRvdy5ldGhlcmV1bSBhcyBhbnkpLm9uKSB7XG4gICAgICAod2luZG93LmV0aGVyZXVtIGFzIGFueSkub24oJ2FjY291bnRzQ2hhbmdlZCcsIGNhbGxiYWNrKVxuICAgIH1cbiAgfSxcbiAgb25DaGFpbkNoYW5nZWQ6IChjYWxsYmFjaykgPT4ge1xuICAgIGlmICh3aW5kb3cuZXRoZXJldW0gJiYgKHdpbmRvdy5ldGhlcmV1bSBhcyBhbnkpLm9uKSB7XG4gICAgICAod2luZG93LmV0aGVyZXVtIGFzIGFueSkub24oJ2NoYWluQ2hhbmdlZCcsIGNhbGxiYWNrKVxuICAgIH1cbiAgfSxcbiAgcmVtb3ZlTGlzdGVuZXJzOiAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh3aW5kb3cuZXRoZXJldW0gJiYgdHlwZW9mICh3aW5kb3cuZXRoZXJldW0gYXMgYW55KS5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAod2luZG93LmV0aGVyZXVtIGFzIGFueSkucmVtb3ZlTGlzdGVuZXIoJ2FjY291bnRzQ2hhbmdlZCcsICgpID0+IHt9KVxuICAgICAgICAod2luZG93LmV0aGVyZXVtIGFzIGFueSkucmVtb3ZlTGlzdGVuZXIoJ2NoYWluQ2hhbmdlZCcsICgpID0+IHt9KVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byByZW1vdmUgbGlzdGVuZXJzOicsIGVycm9yKVxuICAgIH1cbiAgfVxufVxuXG4vLyBEZXRlY3QgYXZhaWxhYmxlIHdhbGxldFxuY29uc3QgZGV0ZWN0V2FsbGV0ID0gKCk6IFVuaXZlcnNhbFdhbGxldCA9PiB7XG4gIGlmIChtZXRhTWFza1dhbGxldC5pc0F2YWlsYWJsZSgpKSB7XG4gICAgcmV0dXJuIG1ldGFNYXNrV2FsbGV0XG4gIH1cbiAgaWYgKHJhYmJ5V2FsbGV0LmlzQXZhaWxhYmxlKCkpIHtcbiAgICByZXR1cm4gcmFiYnlXYWxsZXRcbiAgfVxuICBpZiAoZ2VuZXJpY1dhbGxldC5pc0F2YWlsYWJsZSgpKSB7XG4gICAgcmV0dXJuIGdlbmVyaWNXYWxsZXRcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ05vIEV0aGVyZXVtIHdhbGxldCBkZXRlY3RlZCcpXG59XG5cbmV4cG9ydCBjb25zdCB1c2VVbml2ZXJzYWxXYWxsZXQgPSAoKSA9PiB7XG4gIGNvbnN0IFtpc0Nvbm5lY3RlZCwgc2V0SXNDb25uZWN0ZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFthY2NvdW50LCBzZXRBY2NvdW50XSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtiYWxhbmNlLCBzZXRCYWxhbmNlXSA9IHVzZVN0YXRlPG51bWJlcj4oMClcbiAgY29uc3QgW3dhbGxldE5hbWUsIHNldFdhbGxldE5hbWVdID0gdXNlU3RhdGU8c3RyaW5nPignJylcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcblxuICBjb25zdCBjb25uZWN0V2FsbGV0ID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSlcbiAgICBzZXRFcnJvcihudWxsKVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCB3YWxsZXQgPSBkZXRlY3RXYWxsZXQoKVxuICAgICAgc2V0V2FsbGV0TmFtZSh3YWxsZXQubmFtZSlcbiAgICAgIFxuICAgICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IHdhbGxldC5jb25uZWN0KClcbiAgICAgIHNldEFjY291bnQoYWNjb3VudClcbiAgICAgIHNldElzQ29ubmVjdGVkKHRydWUpXG4gICAgICBcbiAgICAgIGNvbnN0IGJhbGFuY2UgPSBhd2FpdCB3YWxsZXQuZ2V0QmFsYW5jZShhY2NvdW50KVxuICAgICAgc2V0QmFsYW5jZShiYWxhbmNlKVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIENvbm5lY3RlZCB0byAke3dhbGxldC5uYW1lfTogJHthY2NvdW50fWApXG4gICAgICByZXR1cm4gYWNjb3VudFxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gY29ubmVjdCB3YWxsZXQnXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICBjb25zb2xlLmVycm9yKCdXYWxsZXQgY29ubmVjdGlvbiBmYWlsZWQ6JywgZXJyKVxuICAgICAgdGhyb3cgZXJyXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ2V0QmFsYW5jZSA9IGFzeW5jIChhZGRyZXNzOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgd2FsbGV0ID0gZGV0ZWN0V2FsbGV0KClcbiAgICAgIGNvbnN0IGJhbGFuY2UgPSBhd2FpdCB3YWxsZXQuZ2V0QmFsYW5jZShhZGRyZXNzKVxuICAgICAgc2V0QmFsYW5jZShiYWxhbmNlKVxuICAgICAgcmV0dXJuIGJhbGFuY2VcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBiYWxhbmNlOicsIGVycm9yKVxuICAgICAgcmV0dXJuIDBcbiAgICB9XG4gIH1cblxuICBjb25zdCBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgIHNldElzQ29ubmVjdGVkKGZhbHNlKVxuICAgIHNldEFjY291bnQobnVsbClcbiAgICBzZXRCYWxhbmNlKDApXG4gICAgc2V0V2FsbGV0TmFtZSgnJylcbiAgfVxuXG4gIC8vIENoZWNrIGZvciBleGlzdGluZyBjb25uZWN0aW9uIGFuZCBsaXN0ZW4gZm9yIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjaGVja0Nvbm5lY3Rpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB3YWxsZXQgPSBkZXRlY3RXYWxsZXQoKVxuICAgICAgICBzZXRXYWxsZXROYW1lKHdhbGxldC5uYW1lKVxuICAgICAgICBcbiAgICAgICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IHdhbGxldC5nZXRBY2NvdW50KClcbiAgICAgICAgaWYgKGFjY291bnQpIHtcbiAgICAgICAgICBzZXRBY2NvdW50KGFjY291bnQpXG4gICAgICAgICAgc2V0SXNDb25uZWN0ZWQodHJ1ZSlcbiAgICAgICAgICBjb25zdCBiYWxhbmNlID0gYXdhaXQgd2FsbGV0LmdldEJhbGFuY2UoYWNjb3VudClcbiAgICAgICAgICBzZXRCYWxhbmNlKGJhbGFuY2UpXG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBBbHJlYWR5IGNvbm5lY3RlZCB0byAke3dhbGxldC5uYW1lfTogJHthY2NvdW50fWApXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdObyB3YWxsZXQgZGV0ZWN0ZWQgb3Igbm90IGNvbm5lY3RlZCcpXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlQWNjb3VudHNDaGFuZ2VkID0gKGFjY291bnRzOiBzdHJpbmdbXSkgPT4ge1xuICAgICAgaWYgKGFjY291bnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkaXNjb25uZWN0KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEFjY291bnQoYWNjb3VudHNbMF0pXG4gICAgICAgIHNldElzQ29ubmVjdGVkKHRydWUpXG4gICAgICAgIGdldEJhbGFuY2UoYWNjb3VudHNbMF0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlQ2hhaW5DaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZXhpc3RpbmcgY29ubmVjdGlvblxuICAgIGNoZWNrQ29ubmVjdGlvbigpXG5cbiAgICAvLyBTZXQgdXAgbGlzdGVuZXJzXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHdhbGxldCA9IGRldGVjdFdhbGxldCgpXG4gICAgICB3YWxsZXQub25BY2NvdW50c0NoYW5nZWQoaGFuZGxlQWNjb3VudHNDaGFuZ2VkKVxuICAgICAgd2FsbGV0Lm9uQ2hhaW5DaGFuZ2VkKGhhbmRsZUNoYWluQ2hhbmdlZClcblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgd2FsbGV0LnJlbW92ZUxpc3RlbmVycygpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIE5vIHdhbGxldCBhdmFpbGFibGVcbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8vIE1vY2sgZnVuY3Rpb25zIGZvciBjaXJjbGUgY3JlYXRpb24gKGluIHByb2R1Y3Rpb24gd291bGQgdXNlIHJlYWwgc21hcnQgY29udHJhY3RzKVxuICBjb25zdCBlc3RpbWF0ZUNpcmNsZUNyZWF0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghYWNjb3VudCkgdGhyb3cgbmV3IEVycm9yKCdXYWxsZXQgbm90IGNvbm5lY3RlZCcpXG4gICAgXG4gICAgLy8gVXBkYXRlZCBwcmljaW5nOiAkMzAwIGZvciBjaXJjbGUgY3JlYXRpb24gKOKJiCAwLjE1IEVUSCBhdCBjdXJyZW50IHByaWNlcylcbiAgICBjb25zdCBjaXJjbGVDcmVhdGlvbkNvc3QgPSAwLjE1IC8vIEVUSFxuICAgIGNvbnN0IGdhc1ByaWNlID0gMjAgLy8gZ3dlaVxuICAgIGNvbnN0IGdhc0xpbWl0ID0gMjEwMDAwXG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGFtb3VudDogY2lyY2xlQ3JlYXRpb25Db3N0LFxuICAgICAgZ2FzUHJpY2U6IGdhc1ByaWNlLFxuICAgICAgZ2FzTGltaXQ6IGdhc0xpbWl0LFxuICAgICAgdG90YWxDb3N0OiBjaXJjbGVDcmVhdGlvbkNvc3QgKyAoZ2FzTGltaXQgKiBnYXNQcmljZSAvIE1hdGgucG93KDEwLCA5KSksXG4gICAgICB1c2RFcXVpdmFsZW50OiAzMDAgLy8gJDMwMCBVU0RcbiAgICB9XG4gIH1cblxuICBjb25zdCBjcmVhdGVDaXJjbGUgPSBhc3luYyAoY2lyY2xlRGF0YToge1xuICAgIG5hbWU6IHN0cmluZ1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgICBtaW5FdGhSZXF1aXJlZDogbnVtYmVyXG4gICAgaXNQcml2YXRlOiBib29sZWFuXG4gIH0pID0+IHtcbiAgICBpZiAoIWFjY291bnQpIHRocm93IG5ldyBFcnJvcignV2FsbGV0IG5vdCBjb25uZWN0ZWQnKVxuICAgIFxuICAgIC8vIE1vY2sgdHJhbnNhY3Rpb24gLSBpbiBwcm9kdWN0aW9uIHdvdWxkIHNlbmQgcmVhbCB0cmFuc2FjdGlvblxuICAgIGNvbnN0IG1vY2tIYXNoID0gJzB4JyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygyLCA2NilcbiAgICBcbiAgICBjb25zb2xlLmxvZygn4pyFIE1vY2sgY2lyY2xlIGNyZWF0aW9uIHRyYW5zYWN0aW9uOicsIG1vY2tIYXNoKVxuICAgIHJldHVybiBtb2NrSGFzaFxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc0Nvbm5lY3RlZCxcbiAgICBhY2NvdW50LFxuICAgIGJhbGFuY2UsXG4gICAgd2FsbGV0TmFtZSxcbiAgICBsb2FkaW5nLFxuICAgIGVycm9yLFxuICAgIGNvbm5lY3RXYWxsZXQsXG4gICAgZ2V0QmFsYW5jZSxcbiAgICBkaXNjb25uZWN0LFxuICAgIGVzdGltYXRlQ2lyY2xlQ3JlYXRpb24sXG4gICAgY3JlYXRlQ2lyY2xlXG4gIH1cbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwibWV0YU1hc2tXYWxsZXQiLCJuYW1lIiwiaXNBdmFpbGFibGUiLCJ3aW5kb3ciLCJldGhlcmV1bSIsImlzTWV0YU1hc2siLCJjb25uZWN0IiwiRXJyb3IiLCJhY2NvdW50cyIsInJlcXVlc3QiLCJtZXRob2QiLCJnZXRCYWxhbmNlIiwiYWRkcmVzcyIsImJhbGFuY2UiLCJwYXJhbXMiLCJwYXJzZUludCIsIk1hdGgiLCJwb3ciLCJnZXRBY2NvdW50Iiwib25BY2NvdW50c0NoYW5nZWQiLCJjYWxsYmFjayIsIm9uIiwib25DaGFpbkNoYW5nZWQiLCJyZW1vdmVMaXN0ZW5lcnMiLCJyZW1vdmVMaXN0ZW5lciIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJyYWJieVdhbGxldCIsImlzUmFiYnkiLCJnZW5lcmljV2FsbGV0IiwiZGV0ZWN0V2FsbGV0IiwidXNlVW5pdmVyc2FsV2FsbGV0IiwiaXNDb25uZWN0ZWQiLCJzZXRJc0Nvbm5lY3RlZCIsImFjY291bnQiLCJzZXRBY2NvdW50Iiwic2V0QmFsYW5jZSIsIndhbGxldE5hbWUiLCJzZXRXYWxsZXROYW1lIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZXRFcnJvciIsImNvbm5lY3RXYWxsZXQiLCJ3YWxsZXQiLCJsb2ciLCJlcnIiLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwiZGlzY29ubmVjdCIsImNoZWNrQ29ubmVjdGlvbiIsImhhbmRsZUFjY291bnRzQ2hhbmdlZCIsImxlbmd0aCIsImhhbmRsZUNoYWluQ2hhbmdlZCIsImxvY2F0aW9uIiwicmVsb2FkIiwiZXN0aW1hdGVDaXJjbGVDcmVhdGlvbiIsImNpcmNsZUNyZWF0aW9uQ29zdCIsImdhc1ByaWNlIiwiZ2FzTGltaXQiLCJhbW91bnQiLCJ0b3RhbENvc3QiLCJ1c2RFcXVpdmFsZW50IiwiY3JlYXRlQ2lyY2xlIiwiY2lyY2xlRGF0YSIsIm1vY2tIYXNoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./hooks/useUniversalWallet.ts\n"));

/***/ })

});